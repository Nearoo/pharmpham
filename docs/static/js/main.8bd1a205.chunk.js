(this["webpackJsonppamphlet-hoster"]=this["webpackJsonppamphlet-hoster"]||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(35),i=n.n(r),s=(n(176),n(177),n(271)),o=n(41),l=n(274),d=n(272),u=n(5),j=n(26),b=n(27),O=n(153),h=n(59),x=n(169),p=n(98),v=n.n(p),f=n(9),m={apiKey:"AIzaSyDMdfO60OMPkrgWehDESBiGCeQUUO8kbz4",authDomain:"pharmpham-ca9c2.firebaseapp.com",databaseURL:"https://pharmpham-ca9c2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pharmpham-ca9c2",storageBucket:"pharmpham-ca9c2.appspot.com",messagingSenderId:"943213270509",appId:"1:943213270509:web:dd1d52fc7a840e127203e4",measurementId:"G-WSDG3CW4RN"},g=a.a.createContext({}),w=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var c;e.props;return Object(u.a)(this,n),(c=t.call(this)).loadUserData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00192";Object(h.a)(Object(h.c)(c.db,"/users/".concat(e))).then((function(t){var n=t.val();c.setState({userData:n}),console.info("Loaded user ",e)})),c.setState({})},c.componentDidMount=function(){c.db=Object(h.b)(),c.stor=Object(x.a)(),fetch("/md_example.md").then((function(e){return e.text()})).then((function(e){return c.setState({defaultMarkdown:e})}))},c.setView=function(e){c.setState({view:e})},c.loadProductClass=function(e){var t=Object(h.c)(c.db,"/class/".concat(e));Object(h.a)(t).then((function(t){var n=t.val();n?(c.setState({productClass:n}),console.info("Loaded class with id",e)):console.error("Tried loading inexistant product clas with id ",e)}))},c.loadProductInstance=function(e){var t=Object(h.b)(),n=Object(h.c)(t,"/instance/".concat(e));Object(h.a)(n).then((function(t){var n=t.val();n?(c.setState({product:n}),c.loadProductClass(n.class_id),console.info("Loaded product with id",e)):console.error("Tried loading inexistant product with id",e)})),c.setState({expiry:"5/6/2027"}),console.log(c.state)},c.render=function(){return Object(f.jsx)(g.Provider,{value:c.state,children:c.props.children})},Object(O.a)(m),c.state={setView:c.setView,loadProductClass:c.loadProductClass,loadProductInstance:c.loadProductInstance,loadUserData:c.loadUserData,productIsPinned:c.productIsPinned,setProductIsPinned:c.setProductIsPinned},c}return n}(c.Component),P=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("1"),i=Object(o.a)(r,2),s=i[0],u=i[1],j=Object(c.useContext)(g),b=[{viewTarget:"profile",title:"Profile"}],O=Object(c.useCallback)((function(e){var t=b[+e].viewTarget;j.setView(t),u(String(e)),a(!0),"profile"===t&&j.loadUserData()})),h=Object(c.useCallback)((function(){var e=new URL(window.location.href),t=e.searchParams.get("productId"),n=e.searchParams.get("classId");j.loadUserData(),t?(j.loadProductInstance(t),j.setView("product")):n?(j.loadProductClass(n),j.setView("product")):j.setView("profile")}));return Object(c.useEffect)((function(){h(),window.addEventListener("popstate",(function(){return h()}))}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{onClick:function(){return a(!n)},children:"Menu"}),n?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)(d.a,{defaultSelectedKeys:[s],mode:"inline",children:b.map((function(e,t){return Object(f.jsx)(d.a.Item,{onClick:function(){return O(t)},children:e.title},t)}))})]})},C=n(116),D=n(270),I=n(278),y=n(266),S=n(267),k=n(275),F=n(269),T=n(268),U=n(279),L=s.a.Text,M=function(e){var t;Object(C.a)(e);var n=Object(c.useContext)(g);return Object(f.jsx)(D.b,{dataSource:null===n||void 0===n||null===(t=n.userData)||void 0===t?void 0:t.pinned,bordered:!0,renderItem:function(e){return Object(f.jsxs)(D.b.Item,{children:[Object(f.jsx)(D.b.Item.Meta,{title:e.title,description:e.description,onClick:function(){n.setView("product"),n.loadProductInstance(e.instance),window.history.pushState({},"Product","/?productId=".concat(e.instance))}}),Object(f.jsx)(L,{italic:!0,children:"Up to Date"})]})}})},V=function(e){var t,n=e.imagePath,a=void 0===n?"/profile.png":n,r=null!==(t=Object(c.useContext)(g).userData)&&void 0!==t?t:{};return console.log(r),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(I.b,{direction:"vertical",style:{width:"100%"},children:[Object(f.jsxs)(y.a,{children:[Object(f.jsxs)(S.a,{children:[Object(f.jsx)(k.a,{size:64,icon:Object(f.jsx)(U.a,{}),src:a?Object(f.jsx)(F.a,{src:a}):null}),Object(f.jsx)("br",{})]}),Object(f.jsx)(S.a,{style:{paddingLeft:"20px"},children:Object(f.jsxs)(I.b,{direction:"vertical",children:[Object(f.jsxs)(L,{children:[r.firstname," ",r.lastname]}),Object(f.jsx)(L,{children:r.birthday})]})})]}),Object(f.jsx)(T.a,{orientation:"left",children:"Pinned"}),Object(f.jsx)(M,{}),Object(f.jsx)(T.a,{orientation:"left",children:"Recents"})]})})},R=n(273),_=n(277),E=n(131),G=function(e){var t=e.elements,n=void 0===t?[]:t,c=e.ordered,a=n.map((function(e){return Object(f.jsx)("li",{children:e})}));return c?Object(f.jsx)("ol",{children:a}):Object(f.jsx)("ul",{children:a})},K=function(e){var t=e.elements,n=void 0===t?{}:t,c=e.highlightKeys,a=void 0===c?[]:c;return Object(f.jsx)(R.a,{children:Object.entries(n).map((function(e){return Object(f.jsx)(R.a.Panel,{style:{backgroundColor:a.includes(e[0])?"#ffa29c":""},header:e[0],children:a.includes(e[0])?Object(f.jsx)(_.a,{message:Object(f.jsx)(E.a,{children:e[1]}),type:"error"}):Object(f.jsx)(E.a,{children:e[1]})})}))})},z=function(e){var t=e.title,n=e.children,c=e.render,a=void 0===c?["lol"]:c;return v.a.isEmpty(a)?Object(f.jsx)(f.Fragment,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(T.a,{orientation:"left",children:t}),n]})},A=(s.a.Title,function(e){var t,n,a,r,i,s,o,l,d,u=e.data,j=e.user,b=Object(c.useContext)(g),O=Object.values(null!==(t=null===u||void 0===u||null===(n=u.manual)||void 0===n||null===(a=n.Description)||void 0===a?void 0:a.uses)&&void 0!==t?t:{}),h=null!==(r=null===u||void 0===u||null===(i=u.manual)||void 0===i?void 0:i.Administration)&&void 0!==r?r:{},x=null!==(s=null===u||void 0===u||null===(o=u.manual)||void 0===o?void 0:o.Precautions)&&void 0!==s?s:{},p=Object.values(null!==(l=null===j||void 0===j?void 0:j.precautions)&&void 0!==l?l:{});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(z,{title:"Use Cases",render:O,children:Object(f.jsx)(G,{elements:O,ordered:!0})}),Object(f.jsx)(z,{title:"Administration",render:h,children:Object(f.jsx)(K,{elements:h})}),Object(f.jsx)(z,{title:"Precautions",render:x,children:Object(f.jsx)(K,{elements:x,highlightKeys:p})}),Object(f.jsx)(z,{title:"Further Infos",render:x,children:Object(f.jsx)(R.a,{children:Object(f.jsx)(R.a.Panel,{header:"Leaflet",children:Object(f.jsx)(E.a,{children:null!==(d=String(b.defaultMarkdown))&&void 0!==d?d:"_loading..._"})})})})]})}),B=function(e){return Object(f.jsx)(f.Fragment,{})},W=n(276),J=function(e){var t,n,a,r,i=e.classData,l=e.instanceData,d=Object(c.useState)(!0),u=Object(o.a)(d,2),j=(u[0],u[1],null===i||void 0===i?void 0:i.title),b=null!==(t=null===i||void 0===i||null===(n=i.manual)||void 0===n||null===(a=n.Description)||void 0===a?void 0:a.Title)&&void 0!==t?t:"",O=null===i||void 0===i||null===(r=i.manual)||void 0===r?void 0:r.update_state,h=null===l||void 0===l?void 0:l.expiry_date;return Object(f.jsxs)(I.b,{direction:"vertical",style:{width:"100%"},children:[O?Object(f.jsx)(W.a.Ribbon,{text:O,color:"orange"}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(W.a.Ribbon,{style:{marginTop:"25px"},text:"Safe until ".concat(h),color:"green"}),Object(f.jsx)(s.a.Title,{level:2,children:j}),Object(f.jsx)(s.a.Text,{children:b})]})},N=function(e){Object(C.a)(e);var t=Object(c.useContext)(g);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(J,{classData:t.productClass,user:t.userData,instanceData:t.product}),Object(f.jsx)(B,{data:t.product}),Object(f.jsx)(A,{data:t.productClass,user:t.userData})]})},Q=s.a.Text,X=function(){var e,t=Object(c.useContext)(g);return{product:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(N,{})}),profile:Object(f.jsx)(V,{})}[null!==(e=t.view)&&void 0!==e?e:"profile"]},Y=function(){return Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(f.jsx)(Q,{style:{paddingLeft:"10px"},children:"Drugbud"}),Object(f.jsx)(P,{}),Object(f.jsx)("div",{style:{flexGrow:1,padding:"15px",overflowY:"scroll",overflowX:"hidden"},children:Object(f.jsx)(X,{})})]})};var q=function(){return Object(f.jsx)(w,{children:Object(f.jsx)(Y,{})})};n(257);i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.8bd1a205.chunk.js.map