{"version":3,"sources":["components/state.js","components/menu.js","components/views/productClass.js","components/views/profile.js","components/views/productInstance.js","components/views/product.js","components/layout.js","App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AppStateContext","React","createContext","AppStateProvider","props","loadUserData","userId","get","ref","db","then","data","jsData","val","setState","userData","console","info","componentDidMount","getDatabase","stor","getStorage","fetch","r","text","defaultMarkdown","setView","view","loadProductClass","classId","classData","dataVal","productClass","error","getProductClassOnce","loadProductInstance","prodId","prodData","product","class_id","expiry","log","state","render","Provider","value","children","initializeApp","productIsPinned","setProductIsPinned","Component","MainMenu","Typography","Text","useState","setCollapsed","setSelectedKey","appState","useContext","items","viewTarget","title","useCallback","key","String","loadViewfromUrl","url","URL","window","location","href","productId","searchParams","productClassId","useEffect","addEventListener","ghost","extra","onClick","SimpleList","elements","ordered","els","map","e","KeyVal","highlightKeys","Object","entries","element","color","includes","Panel","style","backgroundColor","header","message","type","TitledSection","_","isEmpty","orientation","ProductClassView","Title","user","uses","values","manual","Description","adminis","Administration","precaus","Precautions","precausHighs","precautions","defaultActiveKey","ProductList","dataSource","pinned","bordered","renderItem","item","Item","Meta","description","instance","history","pushState","update_state","ProfileView","imagePath","direction","width","size","icon","UserOutlined","src","paddingLeft","firstname","lastname","birthday","ProductInstanceView","ProductTitle","instanceData","subtitle","updateState","expiry_date","Ribbon","marginTop","level","ProductView","Content","Main","display","flexDirection","height","flexGrow","padding","overflowY","overflowX","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93537113.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\n// import { initializeApp } from \"firebase/app\";\nimport { initializeApp } from 'firebase/app';\nimport { get, getDatabase, onValue, ref } from 'firebase/database';\nimport { getDownloadURL, getStorage, ref as storageRef } from 'firebase/storage';\nimport React, { Component } from 'react';\nimport _ from 'lodash';\n\n\n// import credJson from '../credentials/pharmpham-ca9c2-firebase-adminsdk-rbpxq-ba90ed6013.json'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDMdfO60OMPkrgWehDESBiGCeQUUO8kbz4\",\n    authDomain: \"pharmpham-ca9c2.firebaseapp.com\",\n    databaseURL: \"https://pharmpham-ca9c2-default-rtdb.europe-west1.firebasedatabase.app\",\n    projectId: \"pharmpham-ca9c2\",\n    storageBucket: \"pharmpham-ca9c2.appspot.com\",\n    messagingSenderId: \"943213270509\",\n    appId: \"1:943213270509:web:dd1d52fc7a840e127203e4\",\n    measurementId: \"G-WSDG3CW4RN\"\n  };\n\n\n\nexport const AppStateContext = React.createContext({});\n\nexport class AppStateProvider extends Component {\n    constructor({props}){\n        super();\n        // Add default fields & functions to change state\n        initializeApp(firebaseConfig);\n        this.state = {\n            setView: this.setView,\n            loadProductClass: this.loadProductClass,\n            getProductClassOnce: this.getProductClassOnce,\n            loadProductInstance: this.loadProductInstance,\n            loadUserData: this.loadUserData, \n            productIsPinned: this.productIsPinned,\n            setProductIsPinned: this.setProductIsPinned\n        }\n    }\n\n    loadUserData = (userId=\"00192\") => {\n        get(ref(this.db, `/users/${userId}`)).then(data => {\n            const jsData = data.val();\n            this.setState({userData: jsData});\n            console.info(\"Loaded user \", userId);\n        })\n        this.setState({\n        \n        })\n    }\n\n    componentDidMount = () => {\n        this.db = getDatabase();\n        this.stor = getStorage();\n\n        fetch(\"https://raw.githubusercontent.com/Nearoo/pharmpham/master/public/md_example.md\").then(r => r.text()).then(text => this.setState({ defaultMarkdown: text }));\n    }\n\n\n    setView = (view) => {\n        this.setState({view})\n    }\n\n    loadProductClass = (classId) => {\n        const classData = ref(this.db,`/class/${classId}`)\n        get(classData).then((data) => {\n            const dataVal = data.val();\n            if(dataVal){\n                this.setState({ productClass: dataVal });\n                console.info(\"Loaded class with id\", classId);\n            } else {\n                console.error(\"Tried loading inexistant product clas with id \", classId);\n            }\n            \n        });\n    }\n\n    getProductClassOnce = classId => {\n        const classData = ref(this.db, `/class/${classId}`)\n        return get(classData);\n    }\n\n    loadProductInstance = (prodId) => {\n        const db = getDatabase()\n        const prodData = ref(db,`/instance/${prodId}`);\n        get(prodData).then(data => {\n            const dataVal = data.val();\n            if(dataVal){\n                this.setState({product: dataVal});\n                this.loadProductClass(dataVal.class_id);\n                console.info(\"Loaded product with id\", prodId);\n            } else {\n                console.error(\"Tried loading inexistant product with id\", prodId);\n            }\n        });\n        this.setState({expiry:'5/6/2027'})\n        console.log(this.state)\n    }\n\n\n    render = () => {\n        return <AppStateContext.Provider value={this.state}>\n            {this.props.children}\n        </AppStateContext.Provider>\n    }\n}","import { useState, useContext, useCallback, useEffect } from 'react';\nimport { Button, Menu, Space, Typography, PageHeader } from 'antd';\nimport { AppStateContext } from './state';\nconst {Text} = Typography;\n\nexport const MainMenu = () => {\n    const [collapsed, setCollapsed] = useState(true);\n    const [selectedKey, setSelectedKey] = useState('1');\n    const appState = useContext(AppStateContext);\n    const items = [\n        {\n            viewTarget: \"profile\",\n            title: \"Profile\"\n        }\n    ]\n\n    const setView = useCallback(key => {\n        const view = items[+key].viewTarget;\n        appState.setView(view);\n        setSelectedKey(String(key));\n        setCollapsed(true);\n\n        if(view === \"profile\"){\n            appState.loadUserData();\n        }\n    })\n\n    const loadViewfromUrl = useCallback(() => {\n        const url = new URL(window.location.href);\n        const productId = url.searchParams.get(\"productId\");\n        const productClassId = url.searchParams.get(\"classId\");\n        \n        appState.loadUserData();\n        \n        if (productId) {\n            appState.loadProductInstance(productId);\n            appState.setView(\"product\");\n        } else if (productClassId) {\n            appState.loadProductClass(productClassId);\n            appState.setView(\"product\");\n        } else {\n            appState.setView(\"profile\");\n        }\n    })\n    // Load file from URL if available, else load profile\n    useEffect(() => {\n        loadViewfromUrl();\n        window.addEventListener('popstate', () => loadViewfromUrl());\n    }, [])\n\n    return <>\n        <PageHeader ghost={false} extra={<Button onClick={() => setView(0)} >Profile</Button>}  title=\"Drugbuddy\" />\n    </>\n}","import { Checkbox, Descriptions, Divider, Space, Typography, List, Alert, Collapse } from \"antd\"\nimport _ from \"lodash\"\nimport React, { useContext, useState } from \"react\"\nimport ReactMarkdown from \"react-markdown\"\nimport { AppStateContext } from \"../state\"\n\n\nexport const SimpleList = ({ elements = [], ordered }) => {\n    const els = elements.map(e => <li>{e}</li>);\n    return ordered ? <ol>{els}</ol> : <ul>{els}</ul>\n}\n\nconst KeyVal = ({elements={}, highlightKeys=[]}) => {\n    return <Collapse>\n        {Object.entries(elements).map(element =>{\n            const color = highlightKeys.includes(element[0]) ? \"#ffa29c\"\n                    : (element[0] === \"Oral\" ? \"orange\" : \"\")\n            return <Collapse.Panel style={{ backgroundColor: color}} header={element[0]}>\n                {highlightKeys.includes(element[0]) ? <Alert message={<ReactMarkdown>{element[1]}</ReactMarkdown>} type=\"error\" /> : <ReactMarkdown>{element[1]}</ReactMarkdown>}\n                \n                </Collapse.Panel>})}\n    </Collapse>\n}\n\nconst TitledSection = ({ title, children, render=[\"lol\"]}) =>\n    !_.isEmpty(render)\n        ? <><Divider orientation=\"left\">{title}</Divider>\n            {children}</>\n        : <></>;\n    \n\nconst { Title } = Typography;\n\nexport const ProductClassView = ({data, user}) => {\n\n    const appState = useContext(AppStateContext);\n\n    const uses = Object.values(data?.manual?.Description?.uses ?? {});\n    const adminis = data?.manual?.Administration ?? {};\n\n    const precaus = data?.manual?.Precautions ?? {};\n    const precausHighs = Object.values(user?.precautions ?? {});\n    return <>\n        <TitledSection title=\"Use Cases\" render={uses}>\n            <SimpleList elements={uses} ordered />\n        </TitledSection>\n\n        <TitledSection title=\"Administration\" render={adminis}>\n            <KeyVal elements={adminis} />\n        </TitledSection>\n\n        <TitledSection title=\"Precautions\" render={precaus} >\n            <KeyVal elements={precaus} highlightKeys={precausHighs}/>\n        </TitledSection>\n\n        <TitledSection title=\"Further Infos\" render={precaus} >\n            <Collapse defaultActiveKey={['1']}>\n                <Collapse.Panel header=\"Leaflet\" key='1'><ReactMarkdown>{String(appState.defaultMarkdown) ?? \"_loading..._\"}</ReactMarkdown></Collapse.Panel>\n            </Collapse>\n        </TitledSection>\n        \n    </>\n}","import { Avatar, Divider, Image, List, Row, Space, Typography, Col } from \"antd\"\nimport { UserOutlined } from '@ant-design/icons';\nimport { useContext, useEffect } from \"react\";\nimport { AppStateContext } from \"../state\";\nimport { SimpleList } from \"./productClass\";\n\n\nconst { Text } = Typography;\n\nconst ProductList = ({}) => {\n    const appState = useContext(AppStateContext);\n    return <List\n        dataSource={appState?.userData?.pinned}\n        bordered\n        renderItem={item => {\n            return <List.Item>\n                <List.Item.Meta title={item.title} description={item.description} onClick={() => {\n                    appState.setView(\"product\");\n                    appState.loadProductInstance(item.instance);\n                    window.history.pushState({}, \"Product\", `/?productId=${item.instance}`)\n                    }} />\n                <Text type=\"warning\" >{item?.update_state}</Text>\n            </List.Item>\n        }} />\n}\n\n\nexport const ProfileView = ({ imagePath =\"https://i.imgur.com/JiOArmf.png\"}) => {\n    const appState = useContext(AppStateContext);\n    const userData = appState.userData ?? {};\n    console.log(userData);\n    return <>\n        <Space direction=\"vertical\" style={{width: \"100%\"}}>\n            <Row>\n                <Col>\n                    <Avatar size={64} icon={<UserOutlined />} src={imagePath ? <Image src={imagePath} /> : null} /><br />\n                </Col>\n                <Col style={{paddingLeft: \"20px\"}}>\n                <Space direction=\"vertical\">\n                    <Text>{userData.firstname} {userData.lastname}</Text>\n                    <Text>{userData.birthday}</Text>\n                </Space>\n                </Col>\n            </Row>\n        \n        <Divider orientation=\"left\"></Divider>\n\n        <ProductList />\n        \n        </Space>\n        \n    </>\n}\n","\n\nexport const ProductInstanceView = (data) => <></>","import { useContext, useState } from \"react\"\nimport { AppStateContext } from \"../state\"\n\nimport { ProductClassView } from './productClass';\nimport { ProductInstanceView} from './productInstance'\n\nimport { Checkbox, Descriptions, Divider, Space, Typography, List, Alert, Collapse, Badge } from \"antd\"\nimport _ from \"lodash\"\n\n\n\nexport const ProductTitle = ({ classData, instanceData }) => {\n    const [pinned, setPinned] = useState(true);\n    const title = classData?.title;\n    const subtitle = classData?.manual?.Description?.Title ?? \"\";\n    const updateState = classData?.manual?.update_state;\n    const expiry = instanceData?.expiry_date;\n    return <Space direction=\"vertical\" style={{width: \"100%\"}}>\n        {updateState ? <Badge.Ribbon text={updateState} color=\"orange\"/> : <></>}\n        <Badge.Ribbon style={{marginTop: \"25px\"}} text={`Safe until ${expiry}`} color=\"green\" />\n        <Typography.Title level={2}>{title}</Typography.Title>\n        <Typography.Text>{subtitle}</Typography.Text>\n    </Space>\n}\n\n\nexport const ProductView = ({}) =>{\n    const appState = useContext(AppStateContext);\n    return <><ProductTitle classData={appState.productClass} user={appState.userData} instanceData={appState.product}/>\n            <ProductInstanceView data={appState.product} />\n            <ProductClassView data={appState.productClass} user={appState.userData} />\n            </>\n}\n\n","\nimport { Divider, Typography } from \"antd\";\nimport { useContext, useEffect } from \"react\";\nimport { MainMenu } from \"./menu\";\nimport { AppStateContext } from \"./state\";\nimport { ProfileView } from \"./views/profile\";\n\nimport { ProductView } from './views/product';\n\n\nconst { Text } = Typography;\n\n\nconst Content = () => {\n    const appState = useContext(AppStateContext);\n    return {\n        \"product\": <>\n            <ProductView />\n            </>,\n        \"profile\": <ProfileView />\n    }[appState.view ?? \"profile\"];\n}\n\nexport const Main = () => {\n    \n    return <div style={{display: \"flex\", flexDirection: \"column\", height: \"100%\"}}>\n        <MainMenu />\n        <div style={{ flexGrow: 1, padding: \"15px\", overflowY: \"scroll\", overflowX: \"hidden\" }}><Content /></div>\n    </div>\n}","import { useState } from 'react';\nimport './App.css';\nimport { Main } from './components/layout';\nimport { AppStateProvider } from './components/state';\n\nfunction App() {\n  return <AppStateProvider>\n    <Main />\n  </AppStateProvider>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}